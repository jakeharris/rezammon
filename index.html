<!doctype html>
<html>
  <head>
    <title>Rezammon</title>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body {
        font-family:
          "HelveticaNeue-Light",
          "Helvetica Neue Light",
          "Helvetica Neue",
          Helvetica,
          Arial,
          "Lucida Grande",
          sans-serif;
      }
      canvas#c {
        width: 100%;
        height: 100%;
        z-index: 1;
      }
    </style>
    <script src="bower_components/socket.io-1.3.5/index.js"></script>
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
  </head>
  <body>
    <canvas id="c"></canvas>
  </body>
  <script>
    var socket = io(),
        canvas = document.getElementById('c'),
        c = canvas.getContext('2d'),
        id,
        isHero = false

    socket.on('user-connect', function (data) {
      id = data.id
      console.log('connected as ' + id)
      if(!isHero) {
        c.fillStyle = '#f64'
        c.beginPath()
        c.fillText('u r not the hero', 100, 100)
        c.closePath()
      }
    })

    socket.on('hero-connect', function() {
      isHero = true
      c.fillStyle = '#6f4'
      c.beginPath()
      c.fillText('u r the hero', 100, 100)
      c.closePath()
    })
    
    $(window).on('unload', function () {
      socket.disconnect()
    })

  </script>
</html>
